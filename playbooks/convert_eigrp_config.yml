---
- name: This playbook will convert a traditional eigrp config to named mode
  gather_facts: no
  hosts: routers
  connection: network_cli
  tasks:
    - name: gather necessary info and store into variables
      ios_command:
        commands: show run | s router eigrp
      register: eigrp_config

    - name: create the directory to store the files
      file:
        path: /home/jake/output/
        state: directory
        mode: 777

    - name: create new templated config
      template:
        src: test.j2
        dest: /home/jake/output/named_eigrp.cfg